<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.onetrillion.trip.service.mapper.CommunityMapper">

<!-- 게시글 입력 -->
<select id="selectAll" resultType="com.onetrillion.trip.community.CommunityDTO" >
   <![CDATA[   select * from TRIL_community ORDER BY com_seq  desc ]]>       
</select>


<!-- 상세보기-->
<select resultType="com.onetrillion.trip.community.CommunityDTO" id="detail">
<![CDATA[   select * from TRIL_community where com_seq =#{com_seq } ]]> 
</select>

<!--  입력 -->
<insert id="insert">
<![CDATA[ 
	INSERT INTO TRIL_community(com_seq , com_title , com_content , u_id ,com_date, com_cnt ) 
	VALUES ((select nvl(max(com_seq ), 0)+1 from TRIL_community)
	,#{com_title } ,#{com_content },#{u_id },to_char(sysdate,'yyyy-mm-dd hh:mm'),#{com_cnt})

]]>		
</insert>

<!--  수정 -->
<update id="modify">
<![CDATA[
		update TRIL_community set
		com_seq =#{com_seq }, com_title =#{com_title }, com_content =#{com_content }, com_cnt =#{com_cnt }
		, com_date =to_char(sysdate,'yyyy-mm-dd hh:mm')
		where com_seq=#{com_seq}]]>
</update>

<!--  삭제 -->
<delete id="delete">
<![CDATA[
		delete from TRIL_community where com_seq =#{com_seq }]]>
</delete>
    
    
    
<update id="cntUp">
<![CDATA[
		update TRIL_community set
		com_cnt =#{com_cnt }
		where com_seq=#{com_seq}]]>
</update>   


</mapper>




